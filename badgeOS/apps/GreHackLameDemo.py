import framebuf
import time

class App:

    def __init__(self, badge):
        self.badge = badge
        self.NAME = "demo GreHack"

    def run(self):

        boom_logo = bytearray(b'\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\x0f\x0f\x1f\x1f\x1f\x1f\x1f\x0f\x0f\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff?\x03\x01\x07\x0f\x1f\x1f??\x7f\x7f\x7f\x7f\x7f\x7f\x7f\x7f\x7f\x7f\x7f??\x1f\x0f\x0f\x03\x01\x07\x1f\x7f\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\x7f\x7f\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\x7f??\x7f\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xfd\xfd\xfc\xfc\xf8\xf0\xe0\xe0\xf0\xf8\xf8\xfc\xfc\xfd\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\x1f\x01\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x01\x07\x0f\x1f\x1f??\x7f\x7f\x7f\x7f\x7f\x7f\x7f\x7f\x7f\x7f??\x1f\x1f\x0f\x0f\x0f\x07\x07\x03\x03\x01\x01\xe0\xf8\xfc\xfe\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xfe\xfe\xf0\xf0\xf8\xf8\xf0\xf0\xfe\xfe\xff\xff\xff\xff\xdf\xdf\x9f\x9f\x9f\x9f\x9f\xdf\xdf_\x7f\x7f\x7f???????????\x7f\x7f\xdf\x9f\x0f\x0f\x07\x03\x83\x80@@`   \x00\x10\x10\x10\x10\x10   `@\xc0\x80\x00\x00\x80\xc0@@   \x10\x10\x10\x10\x10\x10\x10\x10\x10\x10  `@\xc0\x80\x00\x80\xc0\xe08\x1c\x180`\xc0\x80\x00\x00\x00\x00\x00\x00\x00\x03\x07\x8f\x9f\xff\xff\xff\x7f\x7f\x7f\x7f\x7f\x7f\xff\xff\x7f\x7f\x7f\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xf1\xc1\x00\x00\x00\x00\x00\x00\x00\x00xxl<<\x18\x00\x00\x00\x00\x0008?\xff\xff\x06\x03\x01\x00\x00\x00\xf0\xb8\x08\x0c\x04\x04\x04\x04\x84\xf80\x00\x00\x00\x00\x00\xf8\xff\x07\x03\x01\x00\x00\x00\xf0\x98\x0c\x04\x06\x02\x02\x82\xc6|8\x00\x00\x00\x00\xc0\xe0y\x1f\x0f\x03\x01\x00\x00\x00\x00\x00\x00\x00\x01\x03\x07\x0e\x04\x06\x02\x03\x01\x01\x01\x00\x00\x01\x0f\x7f\xf8\xc0\xe0x\x1e\x07\x01\x00\x00\x00\x00\xc0\xe0\xf8\xfe\xff\xff\xff\xff\xff\xff\xff\xff\xff\x9f\xdf\xdf\xcf\xcf\xfe\xf8\xe0\x00\x00\x00\x00\x00\x00\x04\x1e\x1e\x12\x12\x13\x1e\x0e\x04\x00\x00\x00\x00\x81\xc3\xe6|8\x10  !!""""#!! \x10\x10\x18\x08\x0c\x06\x03\x03\x07\x0c\x08\x18\x10\x10\x10!!!!!!\x10\x10\x10\x10\x18\x08\x0c\x0f\x1b\x100 `@\xe08\x1c\x0e\x07\x06\x1c8p`00\x18\x0c\x0e\xfe\xf0\x00\x00\x00\x80\x80\xc0\xe0\xbf\x1f\x1f\x1888x\xf0\xf8\x1c\x0f\x1f\x1f\x9f\xbf\xbf\xbf\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xfc\xfc\xfc\xfc\xfc\xfc\xfc\xfc\xf6\x06\x02\x02\x02\x02\x03\x03\x01\x01\x01\x00\x00\x00\x80\x80\x80\x80\xc0\xc0\xc0\xc0\xe0\xe0\xe0\xe0\xe0\xc0\xc0\xc0\x80\x80\x00\x00\x00\x00\x80\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x80\xf800 @\xc0\x80\x00@@@\xc0@\x00\x00\x00\x00\x00\x00\x00\x00\x00\x00\x80\xe3\xf3\xfb\xff\xff\xff\xff\xff\xff\xff\xff\xfe\xfe\xfe\xfe\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xfb\xf9\xf8\xf8\xfc\xfc\xfc\xfc\xfe\xfe\xfe\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xffc\x03\x03\x07\x07\x07\x07\x07\x03\x03\x03\x011\x7f`\xc0\x80\x00\x00\x00\x00\x00\x00\x00\x00\x04\xc4\xec\xfa\xfa\xf2\xf1\xf1\x80\x00\x80\xc0\xc0\xc0\xc0\xc0\xcc\xdf\xf1\xf0\xf0\xe0\xe0\xc0\xc0\xc0\x80\x80\x00\x00\x01\x07\x0f\x1f?\x7f\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xf9\xf9\xf8\xf8\xf8\xf8\xf8\xf0\xe0\xc0\x80\xc0\xe0\xf8\xfc\xfc\xfc\xfc\xfc\xfc\xff\xff\xfa\xe2\xe0\xf0\xf8\xfe\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xfe\xfe\xfc\xfc\xfc\xf8\xf8\xf9\xf3\xf7\xef\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff')

        GH = bytearray(b'\xff\xff\xff\x1f\x0f\x07\x07\x07\x87\x87\x87\x87\x87\x07\x07\x07\x0f\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\x07\x07\x07\x07\xff\xff\xff\xff\xff\x07\x07\x07\x07\x07\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\x00\x00\x00\x00\x00\xff\xff\xff\xff\xff\xc0\xc0\xc0\xc0\xff\xff\xff\xff????????????\x7f\xff\xff\xff\xff\xff???????????\xff\xff\xff\xff\xff\x00\x00\x00\x00\xff\xff\xff\xff\xff\x00\x00\x00\x00\x00\xff\xff\xff\xff\xff\xff\xff\xff??????\xff\xff\xff\xff\xff\xff\xff\xff\xff\x7f??????????\x7f\xff\xff\xff\xff\xff?????\xff\xff\xff\xff\xff\x7f????\xbf\xff\xff\xff\xff\xff\xff\x00\x00\x00\x00\x00\xff\xff\x7f\x7f\x7f\x7f\x7f\x7f\x7f\xff\xff\xff\xff\x00\x00\x00\x00\x00\xf8\xf8\xf8\xf8\xf8\x00\x00\x00\x00\xff\xff\xff\xff\x00\x00\x00\x00\x00\xf8\xf8\xf8\xf8\xf8\xf8\xff\xff\xff\xff\xff\x00\x00\x00\x00\xff\xff\xff\xff?\x00\x00\x00\x00\x00\xff\xff\xff\xff\xff\xff\xff\x00\x00\x00\x00\x00\x00\x00\x01\xff\xff\xff\xff\xff\xff\xff\x01\x00\x00\x00\x00\xf8\xf8\xf8\xf8\xf8\x00\x00\x00\x00\xff\xff\xff\xff\x00\x00\x00\x00\x00\xff\xff?\x0f\x01\x00\x00\xc0\xf0\xfe\xff\xff\xff\xff\xff\xff\xff\x00\x00\x00\x00\x00\xff\xff\xf0\xf0\xf0\x00\x00\x00\x00\xff\xff\xff\xff\x00\x00\x00\x00\x00\xff\xff\xff\xff\xff\x00\x00\x00\x00\xff\xff\xff\xff\x00\x00\x00\x00\x00\x1f\x1f\x1f\x1f\x1f\xff\xff\xff\xff\xff\xff\x00\x00\x00\x00\x07\x03\x01\x80\xc0\x00\x00\x00\x00\x00\xff\xff\xff\xff\xff\xff\x00\x00\x00\x00\xfe\xfc\x00\x00\x00\x01\xff\xff\xff\xff\xff\xff\x00\x00\x00\x00\x00\xff\xff\xff\xff\xff\xfc\xfc\xfc\xfc\xff\xff\xff\xff\x00\x00\x00\x00\x00\x07\x00\x00\x00\xe0\xf8\xfe\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\x00\x00\x00\x00\x00\xff\xff\xff\xff\xff\x00\x00\x00\x00\xff\xff\xff\xff\x00\x00\x00\x00\x00\xe0\xe0\xe0\x00\x00\x00\x00\xf0\xf8\xff\xff\xff\xff\x00\x00\x00\x00\x00\xfc\xfc\xfc\xfc\xfc\xff\xff\xff\xff\xff\xff\x00\x00\x00\x00\xf8\xfc\xff\xff\xff\x00\x00\x00\x00\x00\xff\xff\xff\xff\x7f\x00\x00\x00\x00\x80\x81\x81\x80\x00\x00\x00\x01\xff\xff\xff\xff\xff\x00\x00\x00\x00\x00\xff\xff\xff\xff\xff\x0f\x0f\x0f\x0f\xff\xff\xff\xff\x00\x00\x00\x00\x00\x80\x80\x00\x00\x01\x0f?\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xc0\x80\x00\x00\x00\x0f\x0f\x0f\x0f\x0f\x00\x00\x00\x80\xff\xff\xff\xff\x00\x00\x00\x00\x00\xff\xff\xff\xfc\x00\x00\x00\x00?\xff\xff\xff\xff\x00\x00\x00\x00\x00\x0f\x0f\x0f\x0f\x0f\x0f\xff\xff\xff\xff\xff\x00\x00\x00\x00\xff\xff\xff\xff\xff\x00\x00\x00\x00\x00\xff\xff\xff\x7f\x00\x00\x00\x00\xfc\xff\xff\xff\xff\xf8\x00\x00\x00\x00\xff\xff\xff\xff\xc0\x00\x00\x00\x00\x0f\x0f\x0f\x0f\x0f\x00\x00\x00\x80\xff\xff\xff\xff\x00\x00\x00\x00\x00\xff\xff\xfe\xf8\xc0\x00\x00\x01\x07?\xff\xff\xff\xff\xff\xff\xff\xff\xff\xfe\xfe\xfe\xfe\xfe\xfe\xfe\xfe\xfe\xfe\xff\xff\xff\xff\xff\xff\xfe\xfe\xfe\xfe\xfe\xff\xff\xff\xff\xff\xfe\xfe\xfe\xfe\xff\xff\xff\xff\xfe\xfe\xfe\xfe\xfe\xfe\xfe\xfe\xfe\xfe\xfe\xff\xff\xff\xff\xff\xfe\xfe\xfe\xfe\xff\xff\xff\xff\xff\xfe\xfe\xfe\xfe\xfe\xff\xff\xff\xfe\xfe\xfe\xfe\xfe\xff\xff\xff\xff\xff\xff\xfe\xfe\xfe\xfe\xfe\xff\xff\xff\xff\xff\xfe\xfe\xfe\xfe\xfe\xfe\xfe\xfe\xfe\xfe\xff\xff\xff\xff\xff\xff\xfe\xfe\xfe\xfe\xfe\xff\xff\xff\xff\xff\xff\xfe\xfe\xfe\xfe\xfe\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff\xff')
        boom_xor = bytearray(x ^ 0xFF for x in boom_logo)
        GH_xor = bytearray(x ^ 0xFF for x in GH)

        self.badge.screen.oled.fill(0)
        fb1 = framebuf.FrameBuffer(boom_logo, 128, 64, framebuf.MVLSB)
        fb2 = framebuf.FrameBuffer(boom_xor, 128, 64, framebuf.MVLSB)
        fb3 = framebuf.FrameBuffer(GH_xor, 128, 54, framebuf.MVLSB)

        while True:
            for i in range(1,3):
                self.badge.screen.oled.blit(fb1, 0,0)
                self.badge.screen.oled.show()
                time.sleep(0.3)
                self.badge.screen.oled.blit(fb2, 0,0)
                self.badge.screen.oled.show()
                time.sleep(0.3)
            
            self.badge.screen.oled.fill(0)
            
            for i in range(1,15):
                self.badge.screen.oled.blit(fb3, 0,i)
                self.badge.screen.oled.show()
                time.sleep(0.1)

            for i in range(15,1,-1):
                self.badge.screen.oled.blit(fb3, 0,i)
                self.badge.screen.oled.show()
                time.sleep(0.05)

